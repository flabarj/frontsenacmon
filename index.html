<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Senacmon Arena ‚Äì MVP</title>

  <link rel="stylesheet" href="styles.css"/>

  <!-- Preload (caminhos relativos √† raiz do repo) -->
  <link rel="preload" as="image" href="src/static/img.png">
  <link rel="preload" as="image" href="src/static/pokeball.png">
  <link rel="preload" as="image" href="src/static/starter_water.png">
  <link rel="preload" as="image" href="src/static/starter_fire.png">
  <link rel="preload" as="image" href="src/static/starter_grass.png">
</head>
<body>

  <!-- TOPO -->
  <div class="topbar">
    <div class="dice">
      <div id="d1" class="die">‚Äî</div>
      <div id="d2" class="die">‚Äî</div>
    </div>

    <div class="hud">
      <div id="turnPill" class="pill turnpill">Vez de ‚Äî</div>
      <div id="hudP1" class="pill"><span class="dot" style="background:#8ea3ff"></span>P1 Berries: <span class="num" id="p1b">100</span></div>
      <div id="hudP2" class="pill"><span class="dot" style="background:#ff9fe0"></span>P2 Berries: <span class="num" id="p2b">100</span></div>
      <div class="pill">Rodada: <span class="num" id="hudRound">1</span>/<span class="num" id="hudRoundLim">10</span></div>
    </div>

    <div id="msg" class="msgbar">Preparando‚Ä¶</div>
  </div>

  <!-- LADO DIREITO -->
  <aside class="side">
    <h3>Hist√≥rico</h3>
    <div id="log" class="log"></div>
  </aside>

  <!-- CENTRO -->
  <div class="stageWrap">
    <div id="stage" class="stage">
      <div id="board" class="board"></div>
      <div id="pathDots"></div>
      <!-- tokens via JS -->
    </div>
  </div>

  <!-- CONTROLES -->
  <div class="controls">
    <button id="btnStart" class="btn">Iniciar</button>
    <button id="btnRoll" class="btn secondary">üé≤ Rolar</button>
  </div>

  <!-- MODAL: Setup (m√°quina decide 1x2 e sorteia starters) -->
  <div id="setupModal" class="modal on">
    <div class="card">
      <h2 style="margin:6px 6px 12px">Preparar partida</h2>
      <p class="tiny" style="margin:6px 6px 14px">
        A <b>m√°quina</b> decidir√° se o jogo ter√° 1 ou 2 jogadores. Starters ser√£o sorteados entre <b>√Ågua</b>, <b>Fogo</b> e <b>Planta</b>.
      </p>

      <h3 style="margin:6px 6px 8px">Starters (sorteados)</h3>
      <div class="row">
        <section class="seg">
          <div class="starterBox">
            <img id="stP1" alt="Starter P1" />
          </div>
          <div id="whoP1" class="tiny" style="margin-top:8px; color:#b7c9ff">‚Äî</div>
        </section>

        <section class="seg">
          <div class="starterBox">
            <img id="stP2" alt="Starter P2" />
          </div>
          <div id="whoP2" class="tiny" style="margin-top:8px; color:#b7c9ff">‚Äî</div>
        </section>
      </div>

      <div class="okrow">
        <button id="okSetup" class="okbtn">OK</button>
      </div>
    </div>
  </div>

  <!-- MODAL: Batalha/Aposta (apenas HUMANO) -->
  <div id="battleModal" class="modal">
    <div class="card">
      <h2 style="margin:6px 6px 0">Batalha!</h2>
      <div id="battleOpp" class="tiny" style="margin:4px 6px 10px; color:#b7c9ff">Oponente: ‚Äî</div>

      <div class="row">
        <section class="seg">
          <h3 style="margin:6px 6px 8px">Aposta</h3>
          <div class="toggle" style="margin:6px">
            <button id="betNo" class="active">Sem aposta</button>
            <button id="betYes">Apostar</button>
          </div>

          <div id="betBox" style="display:none; margin:6px">
            <div class="field">
              <label class="tiny" style="min-width:140px">Modo (1 ou 2 n√∫meros):</label>
              <div class="toggle">
                <button id="m1" class="active">1 n√∫mero</button>
                <button id="m2">2 n√∫meros</button>
              </div>
            </div>

            <div class="field">
              <label class="tiny" style="min-width:140px">Escolha n√∫meros (1‚Äì9):</label>
            </div>
            <div id="numGrid" class="gridNums" style="margin:6px 0"></div>

            <div class="field">
              <label class="tiny" style="min-width:140px">Valor da aposta:</label>
              <input id="betVal" type="number" min="10" max="50" step="1" value="10"/>
              <span class="hint" id="betHint">M√≠nimo 10 | M√°x 50</span>
            </div>

            <div class="field tiny">
              <div>Multiplicador base: <span id="multBase" class="stat">3.0</span> ‚Ä¢ Ajuste elemental: <span id="multAdj" class="stat">0.0</span> ‚Ä¢ Total: <span id="multEff" class="stat">3.0</span></div>
            </div>
          </div>

          <div class="hline"></div>
          <div class="tiny">Regras: 1 n√∫mero paga 3.0x, 2 n√∫meros paga 1.8x. Vantagem elemental: +0.5x; desvantagem: ‚àí0.5x; neutro: 0.</div>
        </section>

        <section class="seg">
          <h3 style="margin:6px 6px 8px">Resumo</h3>
          <div id="battleSummary" class="tiny" style="line-height:1.45; color:#cfe0ff">‚Äî</div>
        </section>
      </div>

      <div class="okrow">
        <button id="okBattle" class="okbtn">Resolver</button>
      </div>
    </div>
  </div>

  <!-- OVERLAY: Vencedor -->
  <div id="winnerOverlay" class="overlay">
    <div class="overlayCard">
      <div id="winnerTitle" class="winnerTitle">VENCEDOR</div>
      <div id="winnerSub" class="winnerSub">‚Äî</div>
      <button id="btnRestart" class="okbtn" style="margin-top:14px">Jogar de novo</button>
    </div>
  </div>

  <script src="game.js"></script>
</body>
</html>
